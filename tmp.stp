#!/usr/bin/env stap


probe begin {
	printf("Test start\n")
}

function trace(entry_p) {
	printf("%s%s%s\n",
		thread_indent(entry_p),
		(entry_p > 0 ? "->" : "<-"), ppfunc())

}

/* __blk_mq_run_hw_queue */
probe kernel.function("kobject_uevent").call {
	trace(1)
}

probe end {
	printf("Test end\n")
}
